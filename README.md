# 🧶 Pixel Pic 像素畫編織指導工具

一個專為手工編織愛好者設計的網頁應用程式，能夠將像素畫轉換為逐步的編織指導。

## 📋 目錄

- [功能特色](#-功能特色)
- [快速開始](#-快速開始)
- [詳細功能說明](#-詳細功能說明)
- [技術規格](#-技術規格)
- [使用教學](#-使用教學)
- [進階設定](#-進階設定)
- [常見問題](#-常見問題)
- [部署指南](#-部署指南)

## 🌟 功能特色

### 核心功能
- ✅ **智能圖片分析**：支援多種先進的色彩量化算法
- ✅ **自動格子檢測**：識別像素畫原有的格子結構
- ✅ **逐步編織指導**：提供詳細的步驟式編織說明
- ✅ **蛇形編織模式**：支援左右交替的編織順序
- ✅ **跳轉功能**：可以從任意步驟開始編織
- ✅ **顏色批次提示**：預告下一次換色的時機
- ✅ **響應式設計**：支援桌面和行動裝置

### 進階功能
- 🎨 **多種分析算法**：HyAB X-Means、Median Cut、Delta E 2000
- 📐 **矩形圖案支援**：完美處理非正方形的像素畫
- 🔄 **即時預覽**：拖拽上傳，即時顯示效果
- 📊 **詳細分析報告**：顯示色彩資訊和分析結果
- 🎯 **精確定位**：點擊畫布或輸入步驟數跳轉

## 🚀 快速開始

### 系統需求
- 現代網頁瀏覽器（Chrome、Firefox、Safari、Edge）
- 支援 JavaScript 和 Canvas API
- 網路連線（用於載入字體）

### 基本使用流程
1. **上傳圖片**：點擊「選擇圖片」或直接拖拽像素畫檔案
2. **調整設定**：選擇分析方法、顏色數量、網格尺寸
3. **開始分析**：點擊「開始分析」按鈕
4. **查看結果**：檢視色彩調色盤和分析資訊
5. **開始編織**：按照逐步指導進行編織

## 📖 詳細功能說明

### 🖼️ 圖片上傳與預覽

#### 支援格式
- **圖片格式**：JPG、PNG、GIF、WebP
- **最佳輸入**：像素畫風格的圖片
- **建議尺寸**：8x8 到 64x64 像素的圖案

#### 上傳方式
1. **點擊上傳**：點擊「選擇圖片」按鈕
2. **拖拽上傳**：直接將圖片拖拽到上傳區域

### 🎨 分析方法選擇

#### 1. HyAB X-Means（推薦）
- **描述**：使用最新的 HyAB 距離公式和自動聚類
- **特點**：提供最準確的色彩分析，自動選擇最佳顏色數量
- **適用**：所有類型的像素畫，特別是複雜色彩的圖案

#### 2. Median Cut
- **描述**：經典的中位數切割色彩量化算法
- **特點**：快速穩定，適合色彩分佈均勻的圖案
- **適用**：簡單的像素畫和幾何圖案

#### 3. Delta E 2000
- **描述**：使用 CIE Delta E 2000 色彩差異標準
- **特點**：符合人眼視覺感知的色彩分析
- **適用**：需要精確色彩匹配的專業用途

### 🔍 格子檢測功能

#### 自動檢測模式
- **啟用方式**：勾選「自動檢測像素畫格子」
- **檢測原理**：分析圖片邊緣，識別原有的格線結構
- **自動調整**：檢測成功後自動設定網格尺寸

#### 手動調整模式
- **網格寬度**：8-64 像素（支援矩形）
- **網格高度**：8-64 像素（獨立調整）
- **保持比例**：鎖定寬高比例，同步調整
- **同步尺寸**：一鍵將高度同步為寬度

### 🧶 編織指導系統

#### 編織順序
- **蛇形模式**：預設使用從右下角開始的蛇形編織模式
  - 最下行：從右到左 ←
  - 往上一行：從左到右 →
  - 再往上一行：從右到左 ←
  - 依此類推...（從下往上編織）

#### 步驟顯示
- **目前步驟**：高亮顯示目前編織位置
- **步驟計數**：顯示「第 X 步 / 共 Y 步」
- **位置座標**：顯示目前的行列位置

#### 顏色指導
- **目前顏色**：顯示目前步驟需要的顏色
- **顏色編號**：每種顏色都有編號方便識別
- **剩餘針數**：顯示此顏色還需編織多少針
- **換色提示**：預告下一個顏色變化

### 🎯 跳轉與導航功能

#### 畫布點擊跳轉
- **操作方式**：直接點擊編織指導畫布上的任意格子
- **即時跳轉**：立即跳到對應的編織步驟

#### 步驟輸入跳轉
- **輸入框**：在「跳至步驟」輸入框輸入步驟號碼
- **範圍檢查**：自動驗證輸入範圍（1 到總步驟數）
- **一鍵跳轉**：點擊「跳轉」按鈕立即定位

#### 導航按鈕
- **下一步**：前進到下一個編織步驟
- **上一步**：返回上一個編織步驟
- **重新開始**：回到第一步

## ⚙️ 技術規格

### 前端技術
- **HTML5**：語義化標記和 Canvas API
- **CSS3**：Flexbox 佈局、響應式設計、動畫效果
- **JavaScript ES6+**：模組化開發、類別結構

### 核心算法
- **色彩空間轉換**：RGB ↔ XYZ ↔ CIELAB
- **色彩距離計算**：HyAB、Euclidean、Delta E 2000
- **聚類算法**：K-means++、X-Means with BIC
- **影像處理**：邊緣檢測、格線識別、色彩量化

### 瀏覽器相容性
- **Chrome**：65+ ✅
- **Firefox**：60+ ✅
- **Safari**：12+ ✅
- **Edge**：79+ ✅

## 📚 使用教學

### 基礎教學：製作簡單圖案

#### 步驟 1：準備像素畫
```
建議圖片特性：
- 尺寸：16x16 到 32x32 像素
- 格式：PNG（保持清晰度）
- 顏色：2-8 種主要顏色
- 風格：清晰的像素邊界
```

#### 步驟 2：上傳與設定
1. 拖拽圖片到上傳區域
2. 選擇「HyAB X-Means」分析方法
3. 勾選「自動檢測像素畫格子」
4. 設定顏色數量為 4-8 種

#### 步驟 3：分析與檢視
1. 點擊「開始分析」
2. 查看分析結果：
   - 檢測到的網格尺寸
   - 實際使用的顏色數量
   - 色彩調色盤

#### 步驟 4：開始編織
1. 查看「目前顏色」指示
2. 按照步驟編織第一針
3. 使用「下一步」按鈕前進
4. 注意「剩餘針數」提示

### 進階教學：處理矩形圖案

#### 適用情況
- 橫幅式圖案（如文字、標語）
- 肖像畫（縱向比例）
- 不規則比例的像素藝術

#### 特殊設定
1. **比例調整**：
   - 取消勾選「保持寬高比例」
   - 分別調整「網格寬度」和「網格高度」
   
2. **自動建議**：
   - 系統會根據圖片比例自動建議網格尺寸
   - 可以使用「🔄 同步尺寸」按鈕快速調整

### 專業技巧

#### 色彩最佳化
- **簡單圖案**：使用 2-4 種顏色
- **複雜圖案**：使用 6-12 種顏色
- **避免過多**：超過 16 種顏色難以管理

#### 編織效率
- **批次編織**：注意「剩餘針數」，可以連續編織同色區域
- **標記進度**：使用「跳至步驟」功能隨時記錄進度
- **分段完成**：大型圖案可以分多次完成

## 🔧 進階設定

### 自訂分析參數

#### X-Means 算法調整
```javascript
// 在瀏覽器開發者工具中可以調整的參數
app.xmeansMaxK = 20;  // 最大聚類數
app.xmeansBIC = true; // 使用 BIC 準則
```

#### 格子檢測敏感度
```javascript
// 調整格線檢測的敏感度
app.gridDetectionThreshold = 50;  // 邊緣檢測閾值
app.lineFilterDistance = 5;       // 線條過濾距離
```

### 匯出功能（規劃中）
- **圖案匯出**：PNG、SVG 格式
- **指導匯出**：PDF、文字檔案
- **調色盤匯出**：色彩代碼清單

## ❓ 常見問題

### Q1：為什麼分析後的顏色與原圖不同？
**A1**：這是正常現象。系統會將相似的顏色合併，以減少編織時需要的線材種類。您可以增加「顏色數量」設定來保留更多原始顏色。

### Q2：自動格子檢測失敗怎麼辦？
**A2**：可以手動調整網格尺寸：
- 取消勾選「自動檢測像素畫格子」
- 手動調整「網格寬度」和「網格高度」
- 建議設定為與原圖像素尺寸相近的數值

### Q3：為什麼編織順序是從右下角開始？
**A3**：從右下角開始的蛇形編織模式符合大多數編織工藝的習慣，特別是針織和鉤針編織。這種方式可以更自然地處理編織張力和避免不必要的斷線。編織順序是：右下→左下→左上→右上，以蛇形方式往上進行。

### Q4：支援哪些圖片格式？
**A4**：支援所有常見的網頁圖片格式：JPG、PNG、GIF、WebP。建議使用 PNG 格式以保持最佳品質。

### Q5：可以處理多大的圖案？
**A5**：建議使用 8x8 到 64x64 的網格尺寸。更大的圖案會需要很長的編織時間，建議分割成較小的區塊處理。

### Q6：為什麼有時候會出現「分析中...」卡住的情況？
**A6**：這可能是因為圖片過於複雜或尺寸過大。系統有 10 秒超時保護，會自動重置。建議：
- 使用較小的圖片
- 減少顏色數量設定
- 重新整理頁面後再試

### Q7：手機上可以使用嗎？
**A7**：可以！網站採用響應式設計，支援手機和平板使用。建議使用橫向模式以獲得更好的體驗。

## 🚀 部署指南

### GitHub Pages 部署
```bash
# 1. 創建 GitHub 倉庫
# 2. 上傳檔案：index.html, styles.css, script.js
# 3. 啟用 GitHub Pages
# 4. 訪問：https://您的用戶名.github.io/倉庫名稱
```

### Netlify 部署
```bash
# 1. 註冊 Netlify 帳戶
# 2. 拖拽專案資料夾到部署區域
# 3. 立即獲得免費網址
```

### 本地測試
```bash
# 使用 Python 簡易伺服器
python -m http.server 8000

# 或使用 Node.js
npx serve .

# 瀏覽器訪問：http://localhost:8000
```

## 📞 支援與貢獻

### 回報問題
如果您發現任何問題或有改進建議，歡迎回報！

### 功能請求
我們持續改進這個工具，歡迎提出新功能的建議。

### 技術支援
如果您在使用過程中遇到技術問題，可以檢查：
1. 瀏覽器是否支援 JavaScript
2. 圖片檔案是否完整
3. 網路連線是否正常

---

**版本**：1.0.0  
**最後更新**：2024年  
**開發語言**：HTML5 + CSS3 + JavaScript ES6+  
**授權**：MIT License  

🧶 **祝您編織愉快！** 🎨 